{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/sorinel.dragomir/programming/04.next/01.ssr-next/01.basics-again/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Link from \"next/link\";\nimport MainLayout from \"../components/layouts/mainLayout\"; // import css from '../styles/main.css';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      user: _this.props.user,\n      userData: _this.props.userData\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUserList\", function (users) {\n      return users.map(function (user, index) {\n        return __jsx(\"li\", {\n          key: index,\n          className: \"list-group-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: {\n            pathname: '/users/profile',\n            query: {\n              userId: user.id\n            }\n          },\n          as: \"/users/profile/\".concat(user.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, user.name)));\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      // console.log(this.props)\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, __jsx(MainLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Select an user\"), __jsx(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.renderUserList(this.props.userData))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var pathname, query, asPath, req, res, userData, response;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pathname = _ref.pathname, query = _ref.query, asPath = _ref.asPath, req = _ref.req, res = _ref.res;\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get(\"https://jsonplaceholder.typicode.com/users\"));\n\n            case 4:\n              response = _context.sent;\n              userData = response.data;\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 11:\n              console.log('pathname', pathname);\n              console.log('query', query); // console.log('asPath', asPath)\n              // console.log('req', req)\n              // console.log('res', res)\n              // NextJS will take this returned object and inject it, as props, in the actual component\n\n              return _context.abrupt(\"return\", {\n                user: {\n                  firstName: \"Sorin\",\n                  lastName: \"Dragomir\"\n                },\n                userData: userData\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 8]]);\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/sorinel.dragomir/programming/04.next/01.ssr-next/01.basics-again/pages/index.js"],"names":["React","Component","axios","Link","MainLayout","Home","user","props","userData","users","map","index","pathname","query","userId","id","name","renderUserList","asPath","req","res","get","response","data","console","log","firstName","lastName"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,UAAP,MAAuB,kCAAvB,C,CAEA;;IAEMC,I;;;;;;;;;;;;;;;;;;4DA0BI;AACNC,MAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWD,IADX;AAENE,MAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWC;AAFf,K;;qEAIS,UAACC,KAAD,EAAW;AAC1B,aACEA,KAAK,CAACC,GAAN,CAAU,UAACJ,IAAD,EAAOK,KAAP;AAAA,eACR;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAgB,UAAA,SAAS,EAAC,iBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEE,MAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAEC,YAAAA,QAAQ,EAAE,gBAAZ;AAA8BC,YAAAA,KAAK,EAAE;AAAEC,cAAAA,MAAM,EAAER,IAAI,CAACS;AAAf;AAArC,WAAZ;AAAwE,UAAA,EAAE,2BAAoBT,IAAI,CAACS,EAAzB,CAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIT,IAAI,CAACU,IAAT,CADF,CAFF,CADQ;AAAA,OAAV,CADF;AAUD,K;;;;;;;6BACQ;AACP;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKC,cAAL,CAAoB,KAAKV,KAAL,CAAWC,QAA/B,CADH,CAFF,CADF,CADF;AAUD;;;;;;;;;AArD8BI,cAAAA,Q,QAAAA,Q,EAAUC,K,QAAAA,K,EAAOK,M,QAAAA,M,EAAQC,G,QAAAA,G,EAAKC,G,QAAAA,G;;;+CAGlClB,KAAK,CAACmB,GAAN,CACrB,4CADqB,C;;;AAAjBC,cAAAA,Q;AAGNd,cAAAA,QAAQ,GAAGc,QAAQ,CAACC,IAApB;;;;;;;AAEAC,cAAAA,OAAO,CAACC,GAAR;;;AAEFD,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBb,QAAxB;AACAY,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBZ,KAArB,E,CACA;AACA;AACA;AACA;;+CACO;AACLP,gBAAAA,IAAI,EAAE;AACJoB,kBAAAA,SAAS,EAAE,OADP;AAEJC,kBAAAA,QAAQ,EAAE;AAFN,iBADD;AAKLnB,gBAAAA,QAAQ,EAARA;AALK,e;;;;;;;;;;;;EAjBQP,S;;AAyDnB,eAAeI,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Link from \"next/link\";\n\nimport MainLayout from \"../components/layouts/mainLayout\";\n\n// import css from '../styles/main.css';\n\nclass Home extends Component {\n  static async getInitialProps({ pathname, query, asPath, req, res }) {\n    let userData;\n    try {\n      const response = await axios.get(\n        \"https://jsonplaceholder.typicode.com/users\"\n      );\n      userData = response.data;\n    } catch (error) {\n      console.log(error);\n    }\n    console.log('pathname', pathname)\n    console.log('query', query)\n    // console.log('asPath', asPath)\n    // console.log('req', req)\n    // console.log('res', res)\n    // NextJS will take this returned object and inject it, as props, in the actual component\n    return {\n      user: {\n        firstName: \"Sorin\",\n        lastName: \"Dragomir\"\n      },\n      userData\n    };\n  }\n\n  state = {\n    user: this.props.user,\n    userData: this.props.userData\n  }\n  renderUserList = (users) => {\n    return (\n      users.map((user, index) => (\n        <li key={index} className=\"list-group-item\">\n          {/* <Link href={`/users/profile?userId=${user.id}`}> */}\n          <Link href={{ pathname: '/users/profile', query: { userId: user.id } }} as={`/users/profile/${user.id}`}>\n            <a>{user.name}</a>\n          </Link>\n        </li >\n      ))\n    );\n  }\n  render() {\n    // console.log(this.props)\n    return (\n      <div>\n        <MainLayout>\n          <h1>Select an user</h1>\n          <ul className=\"list-group\">\n            {this.renderUserList(this.props.userData)}\n          </ul>\n        </MainLayout>\n      </div>\n    );\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}