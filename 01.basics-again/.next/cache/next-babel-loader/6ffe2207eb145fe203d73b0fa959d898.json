{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/sorinel.dragomir/programming/04.next/01.ssr-next/01.basics-again/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Link from \"next/link\";\nimport MainLayout from \"../components/layouts/mainLayout\";\nimport css from '../styles/main.css';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      user: _this.props.user\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUserList\", function (users) {\n      return users.map(function (user, index) {\n        return __jsx(\"li\", {\n          key: index,\n          className: \"list-group-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: {\n            pathname: '/users/profile',\n            query: {\n              userId: user.id\n            }\n          },\n          as: \"/users/profile/\".concat(user.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, user.name)));\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, __jsx(MainLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Select an user\"), __jsx(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.renderUserList(this.props.userData))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(context) {\n      var userData, response;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(\"https://jsonplaceholder.typicode.com/users\"));\n\n            case 3:\n              response = _context.sent;\n              userData = response.data;\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n              console.log('initial props'); // NextJS will take this returned object and inject it, as props, in the actual component\n\n              return _context.abrupt(\"return\", {\n                user: {\n                  firstName: \"Sorin\",\n                  lastName: \"Dragomir\"\n                },\n                userData: userData\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]]);\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/sorinel.dragomir/programming/04.next/01.ssr-next/01.basics-again/pages/index.js"],"names":["React","Component","axios","Link","MainLayout","css","Home","user","props","users","map","index","pathname","query","userId","id","name","console","log","renderUserList","userData","context","get","response","data","firstName","lastName"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,UAAP,MAAuB,kCAAvB;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;;IAEMC,I;;;;;;;;;;;;;;;;;;4DAsBI;AACNC,MAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWD;AADX,K;;qEAGS,UAACE,KAAD,EAAW;AAC1B,aACEA,KAAK,CAACC,GAAN,CAAU,UAACH,IAAD,EAAOI,KAAP;AAAA,eACR;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAgB,UAAA,SAAS,EAAC,iBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEE,MAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAEC,YAAAA,QAAQ,EAAE,gBAAZ;AAA8BC,YAAAA,KAAK,EAAE;AAAEC,cAAAA,MAAM,EAAEP,IAAI,CAACQ;AAAf;AAArC,WAAZ;AAAwE,UAAA,EAAE,2BAAoBR,IAAI,CAACQ,EAAzB,CAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIR,IAAI,CAACS,IAAT,CADF,CAFF,CADQ;AAAA,OAAV,CADF;AAUD,K;;;;;;;6BACQ;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKW,cAAL,CAAoB,KAAKX,KAAL,CAAWY,QAA/B,CADH,CAFF,CADF,CADF;AAUD;;;oCAhD4BC,O;;;;;;;;+CAGFnB,KAAK,CAACoB,GAAN,CACrB,4CADqB,C;;;AAAjBC,cAAAA,Q;AAGNH,cAAAA,QAAQ,GAAGG,QAAQ,CAACC,IAApB;;;;;;;AAEAP,cAAAA,OAAO,CAACC,GAAR;;;AAEFD,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,E,CACA;;+CACO;AACLX,gBAAAA,IAAI,EAAE;AACJkB,kBAAAA,SAAS,EAAE,OADP;AAEJC,kBAAAA,QAAQ,EAAE;AAFN,iBADD;AAKLN,gBAAAA,QAAQ,EAARA;AALK,e;;;;;;;;;;;;EAbQnB,S;;AAoDnB,eAAeK,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Link from \"next/link\";\n\nimport MainLayout from \"../components/layouts/mainLayout\";\n\nimport css from '../styles/main.css';\n\nclass Home extends Component {\n  static async getInitialProps(context) {\n    let userData;\n    try {\n      const response = await axios.get(\n        \"https://jsonplaceholder.typicode.com/users\"\n      );\n      userData = response.data;\n    } catch (error) {\n      console.log(error);\n    }\n    console.log('initial props')\n    // NextJS will take this returned object and inject it, as props, in the actual component\n    return {\n      user: {\n        firstName: \"Sorin\",\n        lastName: \"Dragomir\"\n      },\n      userData\n    };\n  }\n\n  state = {\n    user: this.props.user\n  }\n  renderUserList = (users) => {\n    return (\n      users.map((user, index) => (\n        <li key={index} className=\"list-group-item\">\n          {/* <Link href={`/users/profile?userId=${user.id}`}> */}\n          <Link href={{ pathname: '/users/profile', query: { userId: user.id } }} as={`/users/profile/${user.id}`}>\n            <a>{user.name}</a>\n          </Link>\n        </li >\n      ))\n    );\n  }\n  render() {\n    console.log(this.props)\n    return (\n      <div>\n        <MainLayout>\n          <h1>Select an user</h1>\n          <ul className=\"list-group\">\n            {this.renderUserList(this.props.userData)}\n          </ul>\n        </MainLayout>\n      </div>\n    );\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}